import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.PrintStream;
import java.util.Random;

import fileStuff.ProbleFromFile;

import problem.*;
import search.*;


public class test {
	//public static int[] e = defined at the boot of this page
	//public static int[][] f = defined at end of page;
	
	public static void main(String[] args) throws Exception {
		testTSM(new PrintStream("D:\\Ascent\\d.txt"));
	}
		
	private static void testLength(PrintStream out) throws IOException{
		TravelingSalesManBridge p = new TravelingSalesManBridge(ProbleFromFile.TravelingSalesMan("D:\\Ascent\\berlin52.txt"), new Random());
		LateAcceptaceHillClimbing s = new LateAcceptaceHillClimbing(p, out, 50_000);
		s.Search();
	}
	/*
	private static void testSG(PrintStream stream){
		StudentGrouping p = new StudentGrouping(3, 2, StGroup, new Random());
		AllMoves a = new AllMoves(p,stream, 6);
		a.Search();
		int [][][] d = a.dump();
		for(int i=0;i<d[0][0].length;i++){
			stream.println(d[i]);
		}
	}
	*/
	private static void testAlgo(){
		TravelingSalesMan p = new TravelingSalesMan(f, new Random());
		OnePointIterativeSearch seach = new GreadyHillCliming(p,System.out);
		seach.Search();
	}
	
	private static void testTSM(PrintStream stream){
		TravelingSalesMan p = new TravelingSalesManInsert(StGroup, new Random());
		
		AllMoves a = new AllMoves(p,stream, 30);
		a.Search();
		int [][][] d = a.dump();
		for(int i=0;i<d[0][0].length;i++){
			for(int j=0;j<d.length;j++){
				stream.print(d[j][0][i]+",");
			}
			stream.println();
		}
	}
	
	private static void test2(PrintStream stream){
		int numberOfGroups = 10;
		GroupBalancingProblem p 
				= new GroupBalancingProblem(numberOfGroups, e, new Random());
		
		AllMoves a = new AllMoves(p,stream, 2);
		a.Search();
		int [][][] d = a.dump();
		System.out.println("e,+0,+1,+2");
		for(int i=0;i<d[0][0].length;i++){
			stream.println("G1,"+d[0][0][i]+","+d[1][0][i]+","+d[2][0][i]);
		}
		System.out.println();System.out.println();System.out.println();
		for(int i=0;i<e.length;i++){
			stream.println(e[i]+","+d[0][1][i]+","+d[1][1][i]+","+d[2][1][i]);
		}
	}

	private static void test1(PrintStream stream) {
		int numberOfGroups = 10;

		GroupBalancingProblem p 
				= new GroupBalancingProblem(numberOfGroups, e, new Random());
		
		OnePointIterativeSearch h =new LateAcceptaceHillClimbing(p,stream,100);
		stream.println(h.Search());
		int[] a = p.getdump()[1];
		stream.println(p.cost()+","+e.length+","+a.length);
		for(int i=0;i<e.length;i++){
			stream.println(e[i]+","+a[i]);
		}
	}
	private static double[][] StGroup
		={{ 0, 1, 2, 3, 4, 5, 6},
		  { 1, 0, 7, 8, 9,10,21},
		  { 2, 7, 0,11,12,13,22},
		  { 3, 8,11, 0,14,15,23},
		  { 4, 9,12,14, 0,16,24},
		  { 5,10,13,15,16, 0,25},
		  { 6,21,22,23,24,25,0}};
	
	private static int[]e
		  ={10339,10255,10493,10899,10780,10925,10748,10965,10797,10414,
			10305,10736,10097,10397,10979,10024,10667,10759,10786,10723,
			10623,10394,10821,10927,10107,10391,10332,10872,10382,10877,
			10882,10750,10790,10301,10009,10915,10717,10447,10295,10522,
			10235,10956,10234,10117,10564,10625,10833,10228,10019,10282,
			10321,10467,10595,10512,10898,10191,10851,10006,10911,10246,
			10237,10828,10382,10824,10537,10377,10271,10969,10569,10318,
			10406,10759,10808,10271,10466,10698,10088,10540,10934,10350,
			10028,10655,10418,10737,10356,10022,10261,10553,10773,10442,
			10826,10697,10519,10802,10378,10182,10295,10708,10965,10937,
			10339,10255,10493,10899,10780,10925,11748,10965,10797,10414,
			10305,10736,10097,10397,10979,10024,10667,10759,10786,10723,
			10623,10394,10821,10927,10107,10391,10332,10872,10382,10877,
			10882,10750,10790,10301,10009,10915,10717,10447,10295,10522,
			10235,10956,11234,10117,10564,10625,10833,10228,10019,10282,
			10321,10467,10595,10512,10898,10191,10851,10006,10911,10246,
			10237,10828,10382,10824,10537,10377,10271,10969,10569,10318,
			10406,10759,10808,10271,10466,10698,10088,10540,10934,10350,
			10028,10655,10418,10737,10356,10022,10261,10553,10773,10442,
			10826,10697,10519,10802,10378,10182,10295,10708,10965,10937,
			10339,10255,10493,10899,10780,10925,10748,10965,10797,10414,
			10305,10736,10097,10397,10979,10024,10667,10759,10786,10723,
			10623,10394,10821,10927,10107,10391,10332,10872,10382,10877,
			10882,10750,10790,10301,10009,10915,10717,10447,10295,10522,
			10235,10956,10234,10117,10564,10625,10833,10228,10019,10282,
			10321,10467,10595,10512,10898,10191,10851,10006,10911,10246,
			10237,10828,10382,10824,10537,10377,10271,10969,10569,10318,
			10406,10759,10808,10271,10466,10698,10088,10540,10934,10350,
			10028,10655,10418,10737,10356,10022,10261,10553,10773,10442,
			10826,10697,10519,10802,10378,10182,10295,10708,10965,10937,
			10339,10255,10493,10899,10780,10925,10748,10965,10797,10414,
			10305,10736,10097,10397,10979,10024,10667,10759,10786,10723,
			10623,10394,10821,10927,10107,10391,10332,10872,10382,10877,
			10882,10750,10790,10301,10009,10915,10717,10447,10295,10522,
			10235,10956,10234,10117,10564,10625,10833,10228,10019,10282,
			10321,10467,10595,10512,10898,10191,10851,10006,10911,10246,
			10237,10828,10382,10824,10537,10377,10271,10969,10569,10318,
			10406,10759,10808,10271,10466,10698,10088,10540,10934,10350,
			10028,10655,10418,10737,10356,10022,10261,10553,10773,10442,
			10826,10697,10519,10802,10378,10182,10295,10708,10965,10937,
			10339,10255,10493,10899,10780,10925,10748,10965,10797,10414,
			10305,10736,10097,10397,10979,10024,10667,10759,10786,10723,
			10623,10394,10821,10927,10107,10391,10332,10872,10382,10877,
			10882,10750,10790,10301,10009,10915,10717,10447,10295,10522,
			10235,10956,10234,10117,10564,10625,10833,10228,10019,10282,
			10321,10467,10595,10512,10898,10191,10851,10006,10911,10246,
			10237,10828,10382,10824,10537,10377,10271,10969,10569,10318,
			10406,10759,10808,10271,10466,10698,10088,10540,10934,10350,
			10028,10655,10418,10737,10356,10022,10261,10553,10773,10442,
			10826,10697,10519,10802,10378,10182,10295,10708,10965,10937};

	private static double[][] f =
		{{0,23.73726405,39.79876509,44.10017996,99.53154261,88.08682831,7.951421534,17.69144895,70.73896351,69.04195347,16.17015029,74.85124969,18.92100396,24.05284521,88.33072328,42.8884198,76.60768754,56.41872857,74.00793052,78.30169026},
		{23.73726405,0,15.41544854,85.75016751,86.51723328,8.019686389,68.12813195,31.7177073,40.36014397,51.314506,83.2190757,30.24954585,80.9307172,39.71213202,39.82473119,12.73756002,26.28267316,46.71629363,47.63414344,63.03900654},
		{39.79876509,15.41544854,0,83.4452294,56.57075564,24.87436473,65.72034685,39.67013203,40.17475499,60.39024448,39.25215022,79.39607728,83.33747897,32.17512311,29.13325927,74.25532925,90.03443761,37.99385276,5.01548515,16.54370132},
		{44.10017996,85.75016751,83.4452294,0,73.67144786,82.15969282,98.73974959,80.1539004,64.36552856,25.66877684,94.91921851,0.159495306,99.00993457,43.85539952,99.88627067,33.47963412,14.60182224,2.509685951,72.27647773,3.535344471},
		{99.53154261,86.51723328,56.57075564,73.67144786,0,81.87806808,34.90402586,98.16095673,4.547290481,70.51554871,18.2202868,37.09008679,37.74593745,64.99097826,55.28252396,26.90321103,57.38070237,27.01793496,74.21614295,2.71811653},
		{88.08682831,8.019686389,24.87436473,82.15969282,81.87806808,0,64.8780864,50.83583413,48.79898104,65.96179911,2.396483507,78.81427803,24.30589331,2.375284786,68.08896007,76.82848904,29.06600518,2.68588488,75.42385223,17.44771451},
		{7.951421534,68.12813195,65.72034685,98.73974959,34.90402586,64.8780864,0,63.99535889,79.93371531,14.05425524,26.33950526,93.52451615,86.79413417,21.18757845,54.22816449,6.564576856,74.6600132,12.53193418,2.821740218,32.11359403},
		{17.69144895,31.7177073,39.67013203,80.1539004,98.16095673,50.83583413,63.99535889,0,39.9094186,31.25040079,99.5889108,60.67186813,42.34439576,44.52412762,26.14170641,95.1904206,91.53785283,54.9730599,95.7045622,71.27137912},
		{70.73896351,40.36014397,40.17475499,64.36552856,4.547290481,48.79898104,79.93371531,39.9094186,0,44.45481997,93.67606293,32.92418724,64.31612826,66.92352535,8.433017677,76.51800834,83.773346,19.05241146,82.65756362,6.702981391},
		{69.04195347,51.314506,60.39024448,25.66877684,70.51554871,65.96179911,14.05425524,31.25040079,44.45481997,0,61.06816269,32.28752623,6.339988927,74.15657741,80.00778888,13.99115185,15.84694885,13.07696814,10.23363894,39.33848487},
		{16.17015029,83.2190757,39.25215022,94.91921851,18.2202868,2.396483507,26.33950526,99.5889108,93.67606293,61.06816269,0,1.749285453,20.96754919,27.2344196,47.59981205,83.58480344,57.351311,77.38646355,61.51720997,54.09043811},
		{74.85124969,30.24954585,79.39607728,0.159495306,37.09008679,78.81427803,93.52451615,60.67186813,32.92418724,32.28752623,1.749285453,0,25.57768991,55.57917142,6.117055196,1.206447176,33.3556899,2.283576456,38.17593189,16.96649415},
		{18.92100396,80.9307172,83.33747897,99.00993457,37.74593745,24.30589331,86.79413417,42.34439576,64.31612826,6.339988927,20.96754919,25.57768991,0,10.60502023,11.73755234,27.83792568,7.626226262,57.25814535,61.93234088,36.80288373},
		{24.05284521,39.71213202,32.17512311,43.85539952,64.99097826,2.375284786,21.18757845,44.52412762,66.92352535,74.15657741,27.2344196,55.57917142,10.60502023,0,74.43080223,37.49256752,12.24997851,92.13362212,13.85360264,44.87088488},
		{88.33072328,39.82473119,29.13325927,99.88627067,55.28252396,68.08896007,54.22816449,26.14170641,8.433017677,80.00778888,47.59981205,6.117055196,11.73755234,74.43080223,0,99.13202528,40.68479548,47.75024308,56.20141829,69.25368133},
		{42.8884198,12.73756002,74.25532925,33.47963412,26.90321103,76.82848904,6.564576856,95.1904206,76.51800834,13.99115185,83.58480344,1.206447176,27.83792568,37.49256752,99.13202528,0,95.13891495,91.06609027,25.12168406,51.43157998},
		{76.60768754,26.28267316,90.03443761,14.60182224,57.38070237,29.06600518,74.6600132,91.53785283,83.773346,15.84694885,57.351311,33.3556899,7.626226262,12.24997851,40.68479548,95.13891495,0,99.95875118,38.41300573,15.41228551},
		{56.41872857,46.71629363,37.99385276,2.509685951,27.01793496,2.68588488,12.53193418,54.9730599,19.05241146,13.07696814,77.38646355,2.283576456,57.25814535,92.13362212,47.75024308,91.06609027,99.95875118,0,37.0788442,56.07953054},
		{74.00793052,47.63414344,5.01548515,72.27647773,74.21614295,75.42385223,2.821740218,95.7045622,82.65756362,10.23363894,61.51720997,38.17593189,61.93234088,13.85360264,56.20141829,25.12168406,38.41300573,37.0788442,0,9.559368827},
		{78.30169026,63.03900654,16.54370132,3.535344471,2.71811653,17.44771451,32.11359403,71.27137912,6.702981391,39.33848487,54.09043811,16.96649415,36.80288373,44.87088488,69.25368133,51.43157998,15.41228551,56.07953054,9.559368827,0}};
}